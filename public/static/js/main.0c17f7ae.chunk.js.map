{"version":3,"sources":["Login.jsx","Input.jsx","NewEntry.jsx","EntryItem.jsx","EntryBar.jsx","Entries.jsx","App.js","reportWebVitals.js","index.js"],"names":["Login","classes","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","orange","useStyles","Copyright","Typography","variant","color","align","Link","href","Date","getFullYear","firebaseui","AuthUI","getInstance","firebase","auth","start","callbacks","signInSuccessWithAuthResult","authResult","redirectUrl","console","log","uiShown","document","getElementById","style","signInFlow","signInOptions","EmailAuthProvider","PROVIDER_ID","GoogleAuthProvider","className","Avatar","component","id","Box","mt","Input","props","root","padding","button","useState","gas","setGas","distance","setDistance","price","setPrice","Container","TextField","fullWidth","label","placeholder","InputProps","endAdornment","InputAdornment","position","InputLabelProps","shrink","value","type","autoComplete","onChange","event","target","toFixed","Button","size","onClick","newEntry","NewEntry","Paper","EntryItem","marginRight","userStyles","secondaryText","timestamp","toDateString","parseFloat","ListItem","toDelete","IconButton","onDelete","entryId","DeleteForever","ListItemText","primary","secondary","EntryBar","marginLeft","Edit","Entries","db","database","dbEntries","ref","dbUsers","entries","setEntries","setToDelete","useEffect","userId","child","on","snapshot","exists","key","once","then","s","old","val","undefined","update","remove","filter","e","Grid","container","item","xs","entry","now","push","List","map","idx","apps","length","app","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","App","React","useMemo","createMuiTheme","palette","isLogged","setIsLogged","setUserId","onAuthStateChanged","user","uid","error","ThemeProvider","CssBaseline","maxWidth","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.0c17f7ae.chunk.js","sourcesContent":["import React from \"react\"\nimport firebase from \"firebase\"\nimport * as firebaseui from 'firebaseui'\nimport 'firebaseui/dist/firebaseui.css'\nimport 'firebase/auth'\nimport {makeStyles} from '@material-ui/core/styles'\nimport {orange} from '@material-ui/core/colors'\nimport LocalGasStationIcon from '@material-ui/icons/LocalGasStation'\nimport {\n    Link,\n    Box,\n    Typography,\n    Avatar\n} from '@material-ui/core'\n\nexport default function Login() {\n    const useStyles = makeStyles(theme => ({\n        paper: {\n            marginTop: theme.spacing(8),\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n        },\n        avatar: {\n            margin: theme.spacing(2),\n            backgroundColor: orange[700],\n        },\n    }));\n    const classes = useStyles();\n\n    const auth = firebaseui.auth.AuthUI.getInstance() || new firebaseui.auth.AuthUI(firebase.auth());\n\n    auth.start('#firebaseui-auth-container', {\n\n        callbacks: {\n            signInSuccessWithAuthResult: function(authResult, redirectUrl) {\n                console.log(\"logged\");\n                return false;\n            },\n            uiShown: function() {\n                // The widget is rendered.\n                // Hide the loader.\n                document.getElementById('loader').style.display = 'none';\n            }\n        },\n        signInFlow: 'popup',\n\n        signInOptions: [\n                firebase.auth.EmailAuthProvider.PROVIDER_ID,\n                firebase.auth.GoogleAuthProvider.PROVIDER_ID\n        ]\n    });\n\n    function Copyright() {\n        return (\n            <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n                {'Copyright © '}\n                <Link color=\"inherit\" href=\"https://gas.onchi.me/\">\n                    Gasoline\n                </Link>{' '}\n                {new Date().getFullYear()}\n            </Typography>\n        );\n    }\n\n    return (\n        <div className={classes.paper}>\n            <Avatar className={classes.avatar}>\n                <LocalGasStationIcon/>\n            </Avatar>\n            <Typography component=\"h1\" variant=\"h5\">\n                Sign in to Gasoline!\n            </Typography>\n            <div id=\"firebaseui-auth-container\"></div>\n            <div id=\"loader\">Loading</div>\n            <Box mt={8}>\n                <Copyright />\n            </Box>\n        </div>\n    );\n}\n","import React, {useState} from \"react\"\nimport {\n    Button,\n    Container,\n    TextField,\n    InputAdornment,\n    Typography,\n} from \"@material-ui/core\"\nimport {makeStyles} from \"@material-ui/core/styles\"\n\n\nexport default function Input(props) {\n    const useStyles = makeStyles(theme => ({\n        root: {\n            padding: theme.spacing(3),\n        },\n        button: {\n            marginTop: theme.spacing(2),\n        }\n    }));\n\n    const classes = useStyles();\n\n    const [gas, setGas] = useState(\"\")\n    const [distance, setDistance] = useState(\"\")\n    const [price, setPrice] = useState(\"\")\n\n    return (\n        <Container className={classes.root} >\n\n            <TextField\n                variant=\"outlined\"\n                fullWidth\n                margin=\"normal\"\n                id=\"gas\"\n                label=\"Gasoline\"\n                placeholder=\"0.00\"\n                InputProps={{\n                    endAdornment: <InputAdornment position=\"end\">L</InputAdornment>,\n                }}\n                InputLabelProps={{\n                    shrink: true,\n                }}\n                value={gas}\n                type=\"number\"\n                autoComplete=\"off\"\n                onChange={event => {\n                    setGas(event.target.value);\n                }}\n            />\n\n            <TextField\n                variant=\"outlined\"\n                fullWidth\n                margin=\"normal\"\n                id=\"gas\"\n                label=\"Price\"\n                placeholder=\"0.0\"\n                InputProps={{\n                    endAdornment: <InputAdornment position=\"end\">¥</InputAdornment>,\n                }}\n                InputLabelProps={{\n                    shrink: true,\n                }}\n                value={price}\n                type=\"number\"\n                autoComplete=\"off\"\n                onChange={event => {\n                    setPrice(event.target.value);\n                }}\n            />\n\n            <TextField\n                variant=\"outlined\"\n                fullWidth\n                margin=\"normal\"\n                id=\"distance\"\n                label=\"Distance\"\n                InputProps={{\n                    endAdornment: <InputAdornment position=\"end\">km</InputAdornment>,\n                }}\n                InputLabelProps={{\n                    shrink: true,\n                }}\n                placeholder=\"0.0\"\n                type=\"number\"\n                autoComplete=\"off\"\n                value={distance}\n                onChange={event => {\n                    setDistance(event.target.value);\n                }}\n            />\n\n            <Typography variant=\"h2\" component=\"p\" color=\"secondary\">\n                {(gas !== 0 && gas !== \"\" ? distance/gas : 0).toFixed(2)} km/L\n            </Typography>\n\n            <Button\n                className={classes.button}\n                variant=\"contained\"\n                size=\"large\"\n                fullWidth\n                onClick={event => {\n                    if (gas === 0 || gas === \"\") return;\n                    if (distance === 0 || distance === \"\") return;\n                    if (price === 0 || price === \"\") return;\n                    props.newEntry({\n                        gas: gas,\n                        distance: distance,\n                        price: price,\n                    });\n                    setGas(\"\");\n                    setDistance(\"\");\n                    setPrice(\"\");\n                }}\n            >\n                Add!\n            </Button>\n\n        </Container>\n    );\n}\n","import React from \"react\"\nimport {\n    Paper,\n} from \"@material-ui/core\"\nimport {makeStyles} from \"@material-ui/core/styles\"\nimport Input from \"./Input\"\n\n\nexport default function NewEntry(props) {\n    const useStyles = makeStyles(theme => ({\n        root: {\n        },\n    }));\n    const classes = useStyles();\n\n    return (\n        <div className={classes.root}>\n            <Paper>\n                <Input\n                    newEntry={props.newEntry}\n                />\n            </Paper>\n        </div>\n    );\n\n};\n","import React from \"react\"\nimport {\n    ListItem, ListItemText,\n    IconButton,\n} from \"@material-ui/core\"\nimport {\n    DeleteForever\n} from '@material-ui/icons'\nimport {makeStyles} from \"@material-ui/core/styles\"\n\n\nexport default function EntryItem(props) {\n    const userStyles = makeStyles(theme => ({\n        button: {\n            marginRight: theme.spacing(2),\n        },\n    }));\n    const classes = userStyles();\n\n    let secondaryText = new Date(props.timestamp).toDateString() + \": \" + parseFloat(props.gas).toFixed(2) + \" L  \" + parseFloat(props.distance).toFixed(1) + \" km\";\n\n    if (props.price != null) {\n        secondaryText += \"  @ \" + parseFloat(props.price) + \" ¥/L\";\n    }\n\n    return (\n        <ListItem\n            key={props.entryId}\n        >\n            {props.toDelete &&\n            <IconButton className={classes.button} component=\"span\" color=\"secondary\"\n                onClick={() => {\n                    props.onDelete(props.entryId);\n                }}\n            >\n                <DeleteForever/>\n            </IconButton>\n            }\n            <ListItemText\n                primary={(props.distance/props.gas).toFixed(2) + \" km/L\"}\n                secondary={secondaryText}\n            />\n        </ListItem>\n    );\n}\n","import React from \"react\"\nimport {\n    IconButton,\n} from \"@material-ui/core\"\nimport {\n    Edit\n} from '@material-ui/icons'\nimport {makeStyles} from \"@material-ui/core/styles\"\n\nexport default function EntryBar(props) {\n    const userStyles = makeStyles(theme => ({\n        root: {\n            marginLeft: 'auto',\n        },\n        button: {\n            marginRight: theme.spacing(2),\n        },\n    }));\n    const classes = userStyles();\n\n    return (\n        <div className={classes.root}>\n            <IconButton className={classes.button} component=\"span\"\n                onClick={() => {\n                    props.onClick();\n                }}\n            >\n                <Edit/>\n            </IconButton>\n        </div>\n    );\n}\n","import React, {useState, useEffect} from \"react\"\nimport {\n    Paper,\n    Grid,\n    List,\n    Typography,\n} from \"@material-ui/core\"\nimport {makeStyles} from \"@material-ui/core/styles\"\nimport NewEntry from \"./NewEntry\"\nimport firebase from \"firebase\"\nimport 'firebase/database'\nimport EntryItem from \"./EntryItem\"\nimport EntryBar from \"./EntryBar\"\n\nexport default function Entries(props) {\n    const db = firebase.database();\n    const dbEntries = db.ref('entries');\n    const dbUsers = db.ref('users');\n\n    const useStyles = makeStyles(theme => ({\n        root: {\n            marginTop: theme.spacing(2),\n        },\n        paper: {\n            padding: theme.spacing(2),\n        },\n    }));\n    const classes = useStyles();\n\n    const [entries, setEntries] = useState([]);\n    const [toDelete, setToDelete] = useState(false);\n\n    useEffect(() => {\n        if (props.userId !== \"\") {\n            dbUsers.child(props.userId).on(\"child_added\", (snapshot) => {\n\n                if (!snapshot.exists()) return;\n                dbEntries.child(snapshot.key).once('value')\n                    .then(s => {\n                        setEntries(old => ([\n                            {\n                                ...s.val(),\n                                id: s.key,\n                            },\n                            ...old,\n                        ]));\n                    });\n            }\n            );\n        }\n    }, [props.userId]);\n\n    const onDelete = (entryId) => {\n        if (entryId === undefined) return;\n\n        if (props.userId !== \"\") {\n            dbUsers.child(props.userId).update({\n                [entryId]: null,\n            });\n            dbEntries.child(entryId).remove();\n            setEntries(old => {\n                const filter = old.filter(e => e.id !== entryId);\n                return filter;\n            });\n        }\n    };\n\n    return (\n        <div className={classes.root}>\n            <Grid container spacing={1}>\n\n                <Grid item xs={12}>\n                    <NewEntry\n                        newEntry={entry => {\n                            const e = {\n                                ...entry,\n                                timestamp: Date.now(),\n                            };\n                            const entryId = dbEntries.push(e).key;\n                            dbUsers.child(props.userId).update({[entryId]: true});\n                        }}\n                    />\n                </Grid>\n\n                <EntryBar\n                    onClick={() => {\n                        setToDelete(old => (!old));\n                    }}\n                />\n\n                <Grid item xs={12}>\n                    <Paper className={classes.paper}>\n                        <Typography variant=\"h4\" component=\"h2\">\n                            History\n                        </Typography>\n\n                        <List>\n                            {entries.map((e, idx) => (\n                                <EntryItem\n                                    key={e.id}\n                                    entryId={e.id}\n                                    distance={e.distance}\n                                    gas={e.gas}\n                                    price={e.price}\n                                    timestamp={e.timestamp}\n                                    toDelete={toDelete}\n                                    onDelete={onDelete}\n                                />\n                            ))}\n                        </List>\n\n                    </Paper>\n                </Grid>\n\n            </Grid>\n        </div>\n    );\n}\n","import React, {useState} from \"react\"\nimport firebase from \"firebase/app\"\nimport \"firebase/analytics\"\nimport \"firebase/auth\"\nimport Login from \"./Login\"\nimport Main from \"./Entries\"\nimport {\n    Container,\n} from \"@material-ui/core\"\nimport {createMuiTheme, ThemeProvider} from '@material-ui/core/styles'\nimport CssBaseline from '@material-ui/core/CssBaseline'\n\nconst firebaseConfig = {\n    apiKey: process.env.REACT_APP_API_KEY,\n    authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n    databaseURL: process.env.REACT_APP_DB_URL,\n    projectId: process.env.REACT_APP_PROJECT_ID,\n    storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n    messagingSenderId: process.env.REACT_APP_MSG_SENDER_ID,\n    appId: process.env.REACT_APP_APP_ID,\n    measurementId: process.env.REACT_APP_MEASUREMENT_ID\n};\n!firebase.apps.length ? firebase.initializeApp(firebaseConfig) : firebase.app();\n\n\nfunction App() {\n    const darkMode = true;\n    const theme = React.useMemo(() =>\n        createMuiTheme({\n            palette: {\n                type: darkMode ? 'dark' : 'light',\n            },\n        }),\n        [darkMode],\n    );\n\n    const [isLogged, setIsLogged] = useState(false);\n    const [userId, setUserId] = useState(\"\");\n\n    firebase.auth().onAuthStateChanged( user => {\n        console.log(user)\n        if (user) {\n            setIsLogged(true);\n            setUserId(user.uid);\n        } else {\n            setIsLogged(false);\n        }\n    },\n        error => {\n            console.log(error);\n        });\n\n    return (\n        <ThemeProvider theme={theme} >\n            <CssBaseline />\n            <Container maxWidth=\"sm\">\n                {isLogged ?\n                    <Main\n                        userId={userId}\n                    />\n                    : <Login /> }\n            </Container>\n        </ThemeProvider>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}