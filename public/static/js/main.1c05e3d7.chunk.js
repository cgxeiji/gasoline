(this.webpackJsonpgasoline=this.webpackJsonpgasoline||[]).push([[0],{131:function(e,t,n){},169:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(16),r=n.n(i),o=(n(131),n(27)),s=n(10),l=(n(132),n(77),n(50)),u=n(86),d=(n(140),n(199)),j=n(75),b=n(112),p=n.n(b),h=n(53),O=n(202),g=n(218),m=n(217),f=n(8);function x(){var e=Object(d.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(2),backgroundColor:j.a[700]}}}))();function t(){return Object(f.jsxs)(h.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(f.jsx)(O.a,{color:"inherit",href:"https://gas.onchi.me/",children:"Gasoline"})," ",(new Date).getFullYear()]})}return(u.a.AuthUI.getInstance()||new u.a.AuthUI(l.a.auth())).start("#firebaseui-auth-container",{callbacks:{signInSuccessWithAuthResult:function(e,t){return console.log("logged"),!1},uiShown:function(){document.getElementById("loader").style.display="none"}},signInFlow:"popup",signInOptions:[l.a.auth.EmailAuthProvider.PROVIDER_ID,l.a.auth.GoogleAuthProvider.PROVIDER_ID]}),Object(f.jsxs)("div",{className:e.paper,children:[Object(f.jsx)(g.a,{className:e.avatar,children:Object(f.jsx)(p.a,{})}),Object(f.jsx)(h.a,{component:"h1",variant:"h5",children:"Sign in to Gasoline!"}),Object(f.jsx)("div",{id:"firebaseui-auth-container"}),Object(f.jsx)("div",{id:"loader",children:"Loading"}),Object(f.jsx)(m.a,{mt:8,children:Object(f.jsx)(t,{})})]})}var v=n(59),I=n(60),y=n(115),k=n(213),C=n(204),D=n(205),S=n(203),w=n(216),A=n(206),L=n(207);function P(e){var t=Object(d.a)((function(e){return{root:{padding:e.spacing(3)},button:{marginTop:e.spacing(2)}}}))(),n=Object(a.useState)(""),c=Object(o.a)(n,2),i=c[0],r=c[1],s=Object(a.useState)(""),l=Object(o.a)(s,2),u=l[0],j=l[1],b=Object(a.useState)(""),p=Object(o.a)(b,2),O=p[0],g=p[1];return Object(f.jsxs)(S.a,{className:t.root,children:[Object(f.jsx)(w.a,{variant:"outlined",fullWidth:!0,margin:"normal",id:"gas",label:"Gasoline",placeholder:"0.00",InputProps:{endAdornment:Object(f.jsx)(A.a,{position:"end",children:"L"})},InputLabelProps:{shrink:!0},value:i,type:"number",autoComplete:"off",onChange:function(e){r(e.target.value)}}),Object(f.jsx)(w.a,{variant:"outlined",fullWidth:!0,margin:"normal",id:"gas",label:"Price",placeholder:"0.0",InputProps:{endAdornment:Object(f.jsx)(A.a,{position:"end",children:"\xa5"})},InputLabelProps:{shrink:!0},value:O,type:"number",autoComplete:"off",onChange:function(e){g(e.target.value)}}),Object(f.jsx)(w.a,{variant:"outlined",fullWidth:!0,margin:"normal",id:"distance",label:"Distance",InputProps:{endAdornment:Object(f.jsx)(A.a,{position:"end",children:"km"})},InputLabelProps:{shrink:!0},placeholder:"0.0",type:"number",autoComplete:"off",value:u,onChange:function(e){j(e.target.value)}}),Object(f.jsxs)(h.a,{variant:"h2",component:"p",color:"secondary",children:[(0!==i&&""!==i?u/i:0).toFixed(2)," km/L"]}),Object(f.jsx)(L.a,{className:t.button,variant:"contained",size:"large",fullWidth:!0,onClick:function(t){0!==i&&""!==i&&0!==u&&""!==u&&0!==O&&""!==O&&(e.newEntry({gas:i,distance:u,price:O}),r(""),j(""),g(""))},children:"Add!"})]})}function F(e){var t=Object(d.a)((function(e){return{root:{}}}))();return Object(f.jsx)("div",{className:t.root,children:Object(f.jsx)(C.a,{children:Object(f.jsx)(P,{newEntry:e.newEntry})})})}n(149);var N=n(208),R=n(209),E=n(211),W=n(210);function G(e){var t=Object(d.a)((function(e){return{button:{marginRight:e.spacing(2)}}}))(),n=new Date(e.timestamp).toDateString()+": "+parseFloat(e.gas).toFixed(2)+" L  "+parseFloat(e.distance).toFixed(1)+" km";return null!=e.price&&(n+="  @ "+parseFloat(e.price)+" \xa5/L"),Object(f.jsxs)(N.a,{children:[e.toDelete&&Object(f.jsx)(R.a,{className:t.button,component:"span",color:"secondary",onClick:function(){e.onDelete(e.entryId)},children:Object(f.jsx)(W.a,{})}),Object(f.jsx)(E.a,{primary:(e.distance/e.gas).toFixed(2)+" km/L",secondary:n})]},e.entryId)}var T=n(212);function B(e){var t=Object(d.a)((function(e){return{root:{marginLeft:"auto"},button:{marginRight:e.spacing(2)}}}))();return Object(f.jsx)("div",{className:t.root,children:Object(f.jsx)(R.a,{className:t.button,component:"span",onClick:function(){e.onClick()},children:Object(f.jsx)(T.a,{})})})}n(150);var z=n(52);function H(e){var t=Object(d.a)((function(e){return{plot:{textAlign:"center"}}}))();console.log(e.entries);var n=e.entries.map((function(t,n){return{x:e.entries.length-n,y:t.distance/t.gas}}));console.log(n);var a=Object(z.e)(z.c);return Object(f.jsxs)(a,{className:t.plot,height:200,children:[Object(f.jsx)(z.a,{}),Object(f.jsx)(z.d,{title:"km/L",position:"end"}),Object(f.jsx)(z.b,{animation:!0,data:n})]})}function J(e){var t=l.a.database(),n=t.ref("entries"),c=t.ref("users"),i=Object(d.a)((function(e){return{root:{marginTop:e.spacing(2)},paper:{padding:e.spacing(2)}}}))(),r=Object(a.useState)([]),s=Object(o.a)(r,2),u=s[0],j=s[1],b=Object(a.useState)(!1),p=Object(o.a)(b,2),O=p[0],g=p[1];Object(a.useEffect)((function(){""!==e.userId&&c.child(e.userId).on("child_added",(function(e){e.exists()&&n.child(e.key).once("value").then((function(e){j((function(t){return[Object(I.a)(Object(I.a)({},e.val()),{},{id:e.key})].concat(Object(y.a)(t))}))}))}))}),[e.userId]);var m=function(t){void 0!==t&&""!==e.userId&&(c.child(e.userId).update(Object(v.a)({},t,null)),n.child(t).remove(),j((function(e){return e.filter((function(e){return e.id!==t}))})))};return Object(f.jsx)("div",{className:i.root,children:Object(f.jsxs)(k.a,{container:!0,spacing:1,children:[Object(f.jsx)(k.a,{item:!0,xs:12,children:Object(f.jsx)(F,{newEntry:function(t){var a=Object(I.a)(Object(I.a)({},t),{},{timestamp:Date.now()}),i=n.push(a).key;c.child(e.userId).update(Object(v.a)({},i,!0))}})}),Object(f.jsx)(k.a,{item:!0,xs:12,children:Object(f.jsx)(H,{entries:u})}),Object(f.jsx)(B,{onClick:function(){g((function(e){return!e}))}}),Object(f.jsx)(k.a,{item:!0,xs:12,children:Object(f.jsxs)(C.a,{className:i.paper,children:[Object(f.jsx)(h.a,{variant:"h4",component:"h2",children:"History"}),Object(f.jsx)(D.a,{children:u.map((function(e,t){return Object(f.jsx)(G,{entryId:e.id,distance:e.distance,gas:e.gas,price:e.price,timestamp:e.timestamp,toDelete:O,onDelete:m},e.id)}))})]})})]})})}var M=n(114),U=n(214),V=n(215);s.a.apps.length?s.a.app():s.a.initializeApp({apiKey:"AIzaSyD2Rcw4A9HY75t31I6gRJ5NRPuKQI8i5qM",authDomain:"gasoline-74552.firebaseapp.com",databaseURL:"https://gasoline-74552-default-rtdb.firebaseio.com",projectId:"gasoline-74552",storageBucket:"gasoline-74552.appspot.com",messagingSenderId:"150789751948",appId:"1:150789751948:web:067408953b959b593227a9",measurementId:"G-H96X7QRV82"});var _=function(){var e=c.a.useMemo((function(){return Object(M.a)({palette:{type:"dark"}})}),[true]),t=Object(a.useState)(!1),n=Object(o.a)(t,2),i=n[0],r=n[1],l=Object(a.useState)(""),u=Object(o.a)(l,2),d=u[0],j=u[1];return s.a.auth().onAuthStateChanged((function(e){console.log(e),e?(r(!0),j(e.uid)):r(!1)}),(function(e){console.log(e)})),Object(f.jsxs)(U.a,{theme:e,children:[Object(f.jsx)(V.a,{}),Object(f.jsx)(S.a,{maxWidth:"sm",children:i?Object(f.jsx)(J,{userId:d}):Object(f.jsx)(x,{})})]})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,220)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};r.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(_,{})}),document.getElementById("root")),K()}},[[169,1,2]]]);
//# sourceMappingURL=main.1c05e3d7.chunk.js.map