(this.webpackJsonpgasoline=this.webpackJsonpgasoline||[]).push([[0],{101:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),i=n(15),r=n.n(i),o=(n(86),n(23)),s=n(8),u=(n(87),n(56),n(36)),d=n(57),l=(n(95),n(9));function j(){return(d.a.AuthUI.getInstance()||new d.a.AuthUI(u.a.auth())).start("#firebaseui-auth-container",{callbacks:{signInSuccessWithAuthResult:function(e,t){return console.log("logged"),!1},uiShown:function(){document.getElementById("loader").style.display="none"}},signInOptions:[{provider:u.a.auth.EmailAuthProvider.PROVIDER_ID},{provider:u.a.auth.GoogleAuthProvider.PROVIDER_ID}]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{id:"firebaseui-auth-container"}),Object(l.jsx)("div",{id:"loader",children:"Loading"})]})}var b=n(40),p=n(43),h=n(74),O=n(145),m=n(136),g=n(44),f=n(137),x=n(131),v=n(134),I=n(148),y=n(138),k=n(139);function D(e){var t=Object(x.a)((function(e){return{root:{padding:e.spacing(3)},button:{marginTop:e.spacing(2)}}}))(),n=Object(a.useState)(""),c=Object(o.a)(n,2),i=c[0],r=c[1],s=Object(a.useState)(""),u=Object(o.a)(s,2),d=u[0],j=u[1];return Object(l.jsxs)(v.a,{className:t.root,children:[Object(l.jsx)(I.a,{variant:"outlined",fullWidth:!0,margin:"normal",id:"gas",label:"Gasoline",placeholder:"0.00",InputProps:{endAdornment:Object(l.jsx)(y.a,{position:"end",children:"L"})},InputLabelProps:{shrink:!0},value:i,type:"number",autoComplete:"off",onChange:function(e){r(e.target.value)}}),Object(l.jsx)(I.a,{variant:"outlined",fullWidth:!0,margin:"normal",id:"distance",label:"Distance",InputProps:{endAdornment:Object(l.jsx)(y.a,{position:"end",children:"km"})},InputLabelProps:{shrink:!0},placeholder:"0.0",type:"number",autoComplete:"off",value:d,onChange:function(e){j(e.target.value)}}),Object(l.jsxs)(g.a,{variant:"h2",component:"p",color:"secondary",children:[(0!==i&&""!==i?d/i:0).toFixed(2)," km/L"]}),Object(l.jsx)(k.a,{className:t.button,variant:"contained",size:"large",fullWidth:!0,onClick:function(t){0!==i&&""!==i&&0!==d&&""!==d&&(e.newEntry({gas:i,distance:d}),r(""),j(""))},children:"Add!"})]})}function S(e){var t=Object(x.a)((function(e){return{root:{}}}))();return Object(l.jsx)("div",{className:t.root,children:Object(l.jsx)(m.a,{children:Object(l.jsx)(D,{newEntry:e.newEntry})})})}n(100);var C=n(140),w=n(141),A=n(143),R=n(142);function L(e){var t=Object(x.a)((function(e){return{button:{marginRight:e.spacing(2)}}}))();return Object(l.jsxs)(C.a,{children:[e.toDelete&&Object(l.jsx)(w.a,{className:t.button,component:"span",color:"secondary",onClick:function(){e.onDelete(e.entryId)},children:Object(l.jsx)(R.a,{})}),Object(l.jsx)(A.a,{primary:(e.distance/e.gas).toFixed(2)+" km/L",secondary:new Date(e.timestamp).toDateString()+": "+parseFloat(e.gas).toFixed(2)+" L  "+parseFloat(e.distance).toFixed(1)+" km"})]},e.entryId)}var P=n(144);function E(e){var t=Object(x.a)((function(e){return{root:{marginLeft:"auto"},button:{marginRight:e.spacing(2)}}}))();return Object(l.jsx)("div",{className:t.root,children:Object(l.jsx)(w.a,{className:t.button,component:"span",onClick:function(){e.onClick()},children:Object(l.jsx)(P.a,{})})})}function F(e){var t=u.a.database(),n=t.ref("entries"),c=t.ref("users"),i=Object(x.a)((function(e){return{root:{marginTop:e.spacing(2)},paper:{padding:e.spacing(2)}}}))(),r=Object(a.useState)([]),s=Object(o.a)(r,2),d=s[0],j=s[1],v=Object(a.useState)(!1),I=Object(o.a)(v,2),y=I[0],k=I[1];Object(a.useEffect)((function(){""!==e.userId&&c.child(e.userId).on("child_added",(function(e){e.exists()&&n.child(e.key).once("value").then((function(e){j((function(t){return[Object(p.a)(Object(p.a)({},e.val()),{},{id:e.key})].concat(Object(h.a)(t))}))}))}))}),[e.userId]);var D=function(t){void 0!==t&&""!==e.userId&&(c.child(e.userId).update(Object(b.a)({},t,null)),n.child(t).remove(),j((function(e){return e.filter((function(e){return e.id!==t}))})))};return Object(l.jsx)("div",{className:i.root,children:Object(l.jsxs)(O.a,{container:!0,spacing:1,children:[Object(l.jsx)(O.a,{item:!0,xs:12,children:Object(l.jsx)(S,{newEntry:function(t){var a=Object(p.a)(Object(p.a)({},t),{},{timestamp:Date.now()}),i=n.push(a).key;c.child(e.userId).update(Object(b.a)({},i,!0))}})}),Object(l.jsx)(E,{onClick:function(){k((function(e){return!e}))}}),Object(l.jsx)(O.a,{item:!0,xs:12,children:Object(l.jsxs)(m.a,{className:i.paper,children:[Object(l.jsx)(g.a,{variant:"h4",component:"h2",children:"History"}),Object(l.jsx)(f.a,{children:d.map((function(e,t){return Object(l.jsx)(L,{entryId:e.id,distance:e.distance,gas:e.gas,timestamp:e.timestamp,toDelete:y,onDelete:D},e.id)}))})]})})]})})}var N=n(73),W=n(146),B=n(147);s.a.apps.length?s.a.app():s.a.initializeApp({apiKey:"AIzaSyD2Rcw4A9HY75t31I6gRJ5NRPuKQI8i5qM",authDomain:"gasoline-74552.firebaseapp.com",databaseURL:"https://gasoline-74552-default-rtdb.firebaseio.com",projectId:"gasoline-74552",storageBucket:"gasoline-74552.appspot.com",messagingSenderId:"150789751948",appId:"1:150789751948:web:067408953b959b593227a9",measurementId:"G-H96X7QRV82"});var T=function(){var e=c.a.useMemo((function(){return Object(N.a)({palette:{type:"dark"}})}),[true]),t=Object(a.useState)(!1),n=Object(o.a)(t,2),i=n[0],r=n[1],u=Object(a.useState)(""),d=Object(o.a)(u,2),b=d[0],p=d[1];return s.a.auth().onAuthStateChanged((function(e){e?(r(!0),p(e.uid)):r(!1)}),(function(e){console.log(e)})),Object(l.jsxs)(W.a,{theme:e,children:[Object(l.jsx)(B.a,{}),Object(l.jsx)(v.a,{maxWidth:"sm",children:i?Object(l.jsx)(F,{userId:b}):Object(l.jsx)(j,{})})]})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,149)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};r.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(T,{})}),document.getElementById("root")),z()},86:function(e,t,n){}},[[101,1,2]]]);
//# sourceMappingURL=main.c5e7d4a0.chunk.js.map