{"version":3,"sources":["Login.jsx","Input.jsx","NewEntry.jsx","Entries.jsx","App.js","reportWebVitals.js","index.js"],"names":["Login","firebaseui","AuthUI","getInstance","firebase","auth","start","callbacks","signInSuccessWithAuthResult","authResult","redirectUrl","console","log","uiShown","document","getElementById","style","display","signInOptions","provider","EmailAuthProvider","PROVIDER_ID","GoogleAuthProvider","id","Input","props","classes","makeStyles","theme","root","padding","spacing","button","marginTop","useStyles","useState","gas","setGas","distance","setDistance","Container","className","TextField","variant","fullWidth","margin","label","placeholder","InputProps","endAdornment","InputAdornment","position","InputLabelProps","shrink","value","type","autoComplete","onChange","event","target","Typography","component","color","toFixed","Button","size","onClick","newEntry","NewEntry","Paper","Entries","db","database","dbEntries","ref","dbUsers","paper","entries","setEntries","useEffect","userId","child","on","snapshot","exists","key","once","then","s","old","val","Grid","container","item","xs","entry","e","timestamp","Date","now","entryId","push","update","List","map","idx","ListItem","ListItemText","primary","secondary","toDateString","parseFloat","apps","length","app","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","App","React","useMemo","createMuiTheme","palette","isLogged","setIsLogged","setUserId","onAuthStateChanged","user","uid","error","ThemeProvider","CssBaseline","maxWidth","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.3e0f4976.chunk.js","sourcesContent":["import React from \"react\"\nimport firebase from \"firebase\"\nimport * as firebaseui from 'firebaseui'\nimport 'firebaseui/dist/firebaseui.css'\nimport 'firebase/auth'\n\nexport default function Login() {\n    const auth = firebaseui.auth.AuthUI.getInstance() || new firebaseui.auth.AuthUI(firebase.auth());\n\n    auth.start('#firebaseui-auth-container', {\n\n        callbacks: {\n            signInSuccessWithAuthResult: function(authResult, redirectUrl) {\n                console.log(\"logged\");\n                return false;\n            },\n            uiShown: function() {\n                // The widget is rendered.\n                // Hide the loader.\n                document.getElementById('loader').style.display = 'none';\n            }\n        },\n\n        signInOptions: [\n            {\n                provider: firebase.auth.EmailAuthProvider.PROVIDER_ID,\n            },\n            {\n                provider: firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n            },\n        ]\n    });\n\n    return (\n        <div>\n            <div id=\"firebaseui-auth-container\"></div>\n            <div id=\"loader\">Loading</div>\n        </div>\n    );\n}\n","import React, {useState} from \"react\"\nimport {\n    Button,\n    Container,\n    TextField,\n    InputAdornment,\n    Typography,\n} from \"@material-ui/core\"\nimport {makeStyles} from \"@material-ui/core/styles\"\n\n\nexport default function Input(props) {\n    const useStyles = makeStyles(theme => ({\n        root: {\n            padding: theme.spacing(3),\n        },\n        button: {\n            marginTop: theme.spacing(2),\n        }\n    }));\n\n    const classes = useStyles();\n\n    const [gas, setGas] = useState(\"\")\n    const [distance, setDistance] = useState(\"\")\n\n    return (\n        <Container className={classes.root} >\n\n            <TextField\n                variant=\"outlined\"\n                fullWidth\n                margin=\"normal\"\n                id=\"gas\"\n                label=\"Gasoline\"\n                placeholder=\"0.00\"\n                InputProps={{\n                    endAdornment: <InputAdornment position=\"end\">L</InputAdornment>,\n                }}\n                InputLabelProps={{\n                    shrink: true,\n                }}\n                value={gas}\n                type=\"number\"\n                autoComplete=\"off\"\n                onChange={event => {\n                    setGas(event.target.value);\n                }}\n            />\n\n            <TextField\n                variant=\"outlined\"\n                fullWidth\n                margin=\"normal\"\n                id=\"distance\"\n                label=\"Distance\"\n                InputProps={{\n                    endAdornment: <InputAdornment position=\"end\">km</InputAdornment>,\n                }}\n                InputLabelProps={{\n                    shrink: true,\n                }}\n                placeholder=\"0.0\"\n                type=\"number\"\n                autoComplete=\"off\"\n                value={distance}\n                onChange={event => {\n                    setDistance(event.target.value);\n                }}\n            />\n\n            <Typography variant=\"h2\" component=\"p\" color=\"secondary\">\n                {(gas !== 0 && gas !== \"\" ? distance/gas : 0).toFixed(2)} km/L\n            </Typography>\n\n            <Button\n                className={classes.button}\n                variant=\"contained\"\n                size=\"large\"\n                fullWidth\n                onClick={event => {\n                    if (gas === 0 || gas === \"\") return;\n                    if (distance === 0 || distance === \"\") return;\n                    props.newEntry({\n                        gas: gas,\n                        distance: distance,\n                    });\n                    setGas(\"\");\n                    setDistance(\"\");\n                }}\n            >\n                Add!\n            </Button>\n\n        </Container>\n    );\n}\n","import React from \"react\"\nimport {\n    Paper,\n} from \"@material-ui/core\"\nimport {makeStyles} from \"@material-ui/core/styles\"\nimport Input from \"./Input\"\n\n\nexport default function NewEntry(props) {\n    const useStyles = makeStyles(theme => ({\n        root: {\n        },\n    }));\n    const classes = useStyles();\n\n    return (\n        <div className={classes.root}>\n            <Paper>\n                <Input\n                    newEntry={props.newEntry}\n                />\n            </Paper>\n        </div>\n    );\n\n};\n","import React, {useState, useEffect} from \"react\"\nimport {\n    Paper,\n    Grid,\n    List, ListItem, ListItemText,\n    Typography,\n} from \"@material-ui/core\"\nimport {makeStyles} from \"@material-ui/core/styles\"\nimport NewEntry from \"./NewEntry\"\nimport firebase from \"firebase\"\nimport 'firebase/database'\n\nexport default function Entries(props) {\n    const db = firebase.database();\n    const dbEntries = db.ref('entries');\n    const dbUsers = db.ref('users');\n\n    const useStyles = makeStyles(theme => ({\n        root: {\n            marginTop: theme.spacing(2),\n        },\n        paper: {\n            marginTop: theme.spacing(2),\n            padding: theme.spacing(2),\n        },\n    }));\n    const classes = useStyles();\n\n    const [entries, setEntries] = useState([]);\n\n    useEffect(() => {\n        if (props.userId !== \"\") {\n            dbUsers.child(props.userId).on(\"child_added\", (snapshot) => {\n\n                if (!snapshot.exists()) return;\n                dbEntries.child(snapshot.key).once('value')\n                    .then(s => {\n                        setEntries(old => ([\n                            s.val(),\n                            ...old,\n                        ]));\n                    });\n            }\n            );\n        }\n    }, [props.userId]);\n\n    return (\n        <div className={classes.root}>\n            <Grid container spacing={1}>\n\n                <Grid item xs={12}>\n                    <NewEntry\n                        newEntry={entry => {\n                            const e = {\n                                ...entry,\n                                timestamp: Date.now(),\n                            };\n                            const entryId = dbEntries.push(e).key;\n                            dbUsers.child(props.userId).update({[entryId]: true});\n                        }}\n                    />\n                </Grid>\n\n                <Grid item xs={12}>\n                    <Paper className={classes.paper}>\n                        <Typography variant=\"h4\" component=\"h2\">\n                            History\n                        </Typography>\n\n                        <List>\n                            {entries.map((e, idx) => (\n                                <ListItem\n                                    key={idx}\n                                >\n                                    <ListItemText\n                                        primary={(e.distance/e.gas).toFixed(2) + \" km/L\"}\n                                        secondary={new Date(e.timestamp).toDateString() + \": \" + parseFloat(e.gas).toFixed(2) + \" L  \" + parseFloat(e.distance).toFixed(1) + \" km\"}\n                                    />\n                                </ListItem>\n                            ))}\n                        </List>\n\n                    </Paper>\n                </Grid>\n\n            </Grid>\n        </div>\n    );\n}\n","import React, {useState} from \"react\"\nimport firebase from \"firebase/app\"\nimport \"firebase/analytics\"\nimport \"firebase/auth\"\nimport Login from \"./Login\"\nimport Main from \"./Entries\"\nimport {\n    Container,\n} from \"@material-ui/core\"\nimport {createMuiTheme, ThemeProvider} from '@material-ui/core/styles'\nimport CssBaseline from '@material-ui/core/CssBaseline'\n\nconst firebaseConfig = {\n    apiKey: process.env.REACT_APP_API_KEY,\n    authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n    databaseURL: process.env.REACT_APP_DB_URL,\n    projectId: process.env.REACT_APP_PROJECT_ID,\n    storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n    messagingSenderId: process.env.REACT_APP_MSG_SENDER_ID,\n    appId: process.env.REACT_APP_APP_ID,\n    measurementId: process.env.REACT_APP_MEASUREMENT_ID\n};\n!firebase.apps.length ? firebase.initializeApp(firebaseConfig) : firebase.app();\n\nfunction App() {\n    const darkMode = true;\n    const theme = React.useMemo(() =>\n        createMuiTheme({\n            palette: {\n                type: darkMode ? 'dark' : 'light',\n            },\n        }),\n        [darkMode],\n    );\n\n    const [isLogged, setIsLogged] = useState(false);\n    const [userId, setUserId] = useState(\"\");\n\n    firebase.auth().onAuthStateChanged( user => {\n        if (user) {\n            setIsLogged(true);\n            setUserId(user.uid);\n        } else {\n            setIsLogged(false);\n        }\n    },\n        error => {\n            console.log(error);\n        });\n\n    return (\n        <ThemeProvider theme={theme} >\n            <CssBaseline />\n            <Container maxWidth=\"sm\">\n                {isLogged ?\n                    <Main\n                        userId={userId}\n                    />\n                    :\n                    <Login /> }\n            </Container>\n        </ThemeProvider>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}